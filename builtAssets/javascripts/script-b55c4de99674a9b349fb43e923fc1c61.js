var chart;Highcharts.Chart.prototype.tooltipFormatter=function(a){if(a<=2)return"Very Unhappy";if(a<=4)return"Unhappy";if(a<=6)return"Ok";if(a<=8)return"Happy";if(a<=10)return"Very Happy"},$(document).ready(function(){$("#chart-graph").length&&(chart=new Highcharts.Chart({chart:{renderTo:"chart-graph"},title:{text:"Mood Graph"},subtitle:{text:null},xAxis:{labels:{enabled:!1}},yAxis:{title:{text:"Mood"},labels:{enabled:!1},min:0,max:10,minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:0,to:2,color:"rgba(68, 170, 213, 0.1)",label:{text:"Very Unhappy",style:{color:"#606060"}}},{from:2,to:4,color:"rgba(0, 0, 0, 0)",label:{text:"Unhappy",style:{color:"#606060"}}},{from:4,to:6,color:"rgba(0, 0, 0, 0)",label:{text:"Ok",style:{color:"#606060"}}},{from:6,to:8,color:"rgba(68, 170, 213, 0.1)",label:{text:"Happy",style:{color:"#606060"}}},{from:8,to:10,color:"rgba(0, 0, 0, 0)",label:{text:"Very Happy",style:{color:"#606060"}}}]},tooltip:{formatter:function(){return""+Highcharts.dateFormat("%e. %b %Y, %H:00",this.x)+": "+chart.tooltipFormatter(this.y)+""}},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1,states:{hover:{enabled:!0,symbol:"circle",radius:5,lineWidth:1}}},pointInterval:36e5,pointStart:Date.UTC(2009,9,6,0,0,0)}},series:[{name:"Your mood",data:[2,3,4,5,6,7,9,9,9,8,7,7,7,8,6,4,2,7,1,4,9,5,3,2,4,3,3,2,5,3,8,4,9,8,2,5,6,7,8,5,3,2,4,9,7,6,4,4]},{name:"Other moods",data:[3,3,4,5,6,5,5,5,5,5,5,6,6,8,6,8,6,5,4,5,5,4,6,7,8,9,9,8,8,7,6,6,6,7,5,5,5,5,6,6,7,7,9,9,8,7,6,5,7]}],navigation:{menuItemStyle:{fontSize:"10px"}}})),$("#chart-graph-mood").length&&(chart=new Highcharts.Chart({chart:{renderTo:"chart-graph-mood"},title:{text:"Mood Graph"},subtitle:{text:null},xAxis:{labels:{enabled:!1}},yAxis:{title:{text:"Mood"},labels:{enabled:!1},min:0,max:10,minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:0,to:2,color:"rgba(68, 170, 213, 0.1)",label:{text:"Very Unhappy",style:{color:"#606060"}}},{from:2,to:4,color:"rgba(0, 0, 0, 0)",label:{text:"Unhappy",style:{color:"#606060"}}},{from:4,to:6,color:"rgba(0, 0, 0, 0)",label:{text:"Ok",style:{color:"#606060"}}},{from:6,to:8,color:"rgba(68, 170, 213, 0.1)",label:{text:"Happy",style:{color:"#606060"}}},{from:8,to:10,color:"rgba(0, 0, 0, 0)",label:{text:"Very Happy",style:{color:"#606060"}}}]},tooltip:{formatter:function(){return""+Highcharts.dateFormat("%e. %b %Y, %H:00",this.x)+": "+chart.tooltipFormatter(this.y)+""}},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1,states:{hover:{enabled:!0,symbol:"circle",radius:5,lineWidth:1}}},pointInterval:36e5,pointStart:Date.UTC(2009,9,6,0,0,0)}},series:[{name:"Your mood",data:[2,3,4,5,6,7,9,9,9,8,7,7,7,8,6,4,2,7,1,4,9,5,3,2,4,3,3,2,5,3,8,4,9,8,2,5,6,7,8,5,3,2,4,9,7,6,4,4]},{name:"Other moods",data:[3,3,4,5,6,5,5,5,5,5,5,6,6,8,6,8,6,5,4,5,5,4,6,7,8,9,9,8,8,7,6,6,6,7,5,5,5,5,6,6,7,7,9,9,8,7,6,5,7]}],navigation:{menuItemStyle:{fontSize:"10px"}}})),$(".btn-relate").click(function(){var a=$(this).parent().find("> span"),b=parseFloat(a.html(),10);return a.fadeOut("fast",function(){a.html(++b).fadeIn("fast")}),!1});var a=function(a){var b=$(a.controls),c=$(a.textarea),d=a.controlsHeight,e=a.expandedHeight,f=a.initialHeight,g={expand:function(){if(c.hasClass("expanded"))return;c.animate({height:e},{duration:300,queue:!1}),g.showControls()},collapse:function(){c[0].value="",c.animate({height:f},{duration:300,queue:!1}),g.hideControls()},showControls:function(){b.removeClass("hide").css({opacity:0}).height(0).stop(!0,!1).animate({height:d,opacity:1},{duration:300,complete:function(){c.addClass("expanded")},queue:!1})},hideControls:function(){b.stop(!0,!1).animate({opacity:0,height:0},{complete:function(){b.addClass("hide"),c.removeClass("expanded")},duration:300,queue:!1})}};return{collapse:g.collapse,expand:g.expand}};if($(".vent-form textarea").length){var b={textarea:".vent-form textarea",controls:".vent-control",initialHeight:"20px",expandedHeight:"80px",controlsHeight:"30px"},c=new a(b);$(b.textarea).focus(function(){c.expand()}),$(b.controls+"> .close").click(function(){c.collapse()})}var d=function(a){var b=$(a.container),c=$(a.tagsContainer),d="",e=[],f={tagIt:function(){d=b.find("#feelings")[0].value,e=d.match(/#\w+/g),f.addHashes(e)},addHashes:function(a){if(a==null)return;var b=[];c.find("> a").each(function(a,c){b.push(c.innerHTML)}),$.each(a,function(a,d){if(b.indexOf(d)>-1){f.IncreaseTagSize(b.indexOf(d));return}c.animate({opacity:0},500,function(){var a='<a href="#" class="lnk-tag" style="font-size: 14px">'+d+"</a>";c.prepend(a)})}),c.animate({opacity:1})},IncreaseTagSize:function(a){c.find("a").eq(a).animate({"font-size":"+=3px"})}};return{tagIt:f.tagIt}},e={container:".form-feelings",tagsContainer:".tag-feelings"};if($(".form-feelings").length){var f=new d(e);$(e.container).submit(function(a){a.preventDefault(),f.tagIt()})}$(".vent-mood, .mood-options span").click(function(){$(this).parent().parent().find(".mood-options").fadeToggle("slow")})})